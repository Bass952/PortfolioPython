# -*- coding: utf-8 -*-
"""BSM and Monte Carlo.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/15GxOmIp-Eixv22HaeN1nVn5y7Ps2-kEj

#Black and Scholes for Option Pricing

![bsm formula.png](data:image/png;base64,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)
"""

import numpy as np
from scipy.stats import norm

#We set up the well known formula of Black-Scholes for option pricing:
def BSM(St, K, T, r, sigma, OPT):
  d1 = (np.log(St/K)+(r + 0.5*sigma**2)*T)/(np.sqrt(T) * sigma)
  d2 = d1 - sigma * np.sqrt(T)
  if OPT == "call":
    price = St*norm.cdf(d1) - K*np.exp(-r*T) * norm.cdf(d2)
  else:
    price = -St*norm.cdf(-d1)+K*np.exp(-r*T) * norm.cdf(-d2)
  return price

# Ask the user for the option type
option_type = input("Would you like to evaluate a 'put' or a 'call' option? ").strip().lower()

# Check user input and calculate the option price
if option_type in ["put", "call"]:
    price = BSM(100, 105, 2, 0.05, 0.2, option_type)
    print(f"The price of the {option_type} option is: {price: }")
else:
    print("Invalid input. Please choose 'put' or 'call'.")

"""#Monte Carlo Simulation for Option Pricing

Using the Monte Carlo method, we generate N scenarios for stock price ST, where the stock price follows a Gometric Brownian Motion. The variables used include: initial price S0, strike price K, time to maturity T, risk-free rate r, and volatility sigma, with an additional random shock Z, sampled from a Standard Normal Distribution, which can be generated using np.random.standard_normal.

The idea is that for each scenario, a value for Z and S_T is generated. Then, S_T is compared with strike price K and:

    For a call option, the payoff is max⁡(0,S_T−K).
    For a put option, the payoff is max⁡(0,K−S_T).

Essentially, we calculate the payoff under each scenario. The final option price is obtained by averaging these payoffs and discounting them back to the present value, as these payoffs represent the value at time T.
"""

import numpy as np

def monte_carlo_option_pricing(S0, K, T, r, sigma, N, option_type="call"):
    # Generate random numbers Z (random shock)
    Z = np.random.standard_normal(N)

    # Simulate ST prices using geometric Brownian motion
    ST = S0 * np.exp((r - 0.5 * sigma**2) * T + sigma * Z * np.sqrt(T))

    # Calculate payoff
    if option_type == "call":
        payoff = np.maximum(0, ST - K)
    elif option_type == "put":
        payoff = np.maximum(0, K - ST)

    # Option price: discounted mean of payoffs
    option_price = np.exp(-r * T) * np.mean(payoff)

    return option_price

S0 = 100  # Initial stock price
K = 105   # Strike price
T = 1     # Time to maturity
r = 0.04  # Risk-free rate
sigma = 0.2  # Volatility
N = 100000  # Number of simulations

# Call option price
call_price = monte_carlo_option_pricing(S0, K, T, r, sigma, N, option_type="call")
print(f"Call option price: {call_price}")

# Put option price
put_price = monte_carlo_option_pricing(S0, K, T, r, sigma, N, option_type="put")
print(f"Put option price: {put_price}")